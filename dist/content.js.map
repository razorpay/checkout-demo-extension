{"version":3,"file":"content.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://rzp-checkout-extension/./constants.js","webpack://rzp-checkout-extension/./scripts/utils.js","webpack://rzp-checkout-extension/webpack/bootstrap","webpack://rzp-checkout-extension/webpack/runtime/define property getters","webpack://rzp-checkout-extension/webpack/runtime/hasOwnProperty shorthand","webpack://rzp-checkout-extension/webpack/runtime/make namespace object","webpack://rzp-checkout-extension/./scripts/content.js"],"sourcesContent":["export const EVENT_TYPES = {\n  SET_OPTIONS: \"SET_OPTIONS\",\n  TOGGLE_INSPECTOR: \"TOGGLE_INSPECTOR\",\n};\n","function fallbackCopyTextToClipboard(text) {\n  const textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n\n  // Avoid scrolling to bottom\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n  textArea.style.position = \"fixed\";\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    const successful = document.execCommand(\"copy\");\n    const msg = successful ? \"successful\" : \"unsuccessful\";\n    console.log(\"Fallback: Copying text command was \" + msg);\n  } catch (err) {\n    console.error(\"Fallback: Oops, unable to copy\", err);\n  }\n\n  document.body.removeChild(textArea);\n}\n\nexport function copyTextToClipboard(text, cb) {\n  if (!navigator.clipboard) {\n    fallbackCopyTextToClipboard(text);\n    return;\n  }\n  navigator.clipboard.writeText(text).then(cb, function (err) {\n    cb(err);\n  });\n}\n\nexport const generateQuerySelector = function (el) {\n  if (el.tagName.toLowerCase() == \"html\") return \"HTML\";\n  let str = el.tagName;\n  str += el.id != \"\" ? \"#\" + el.id : \"\";\n  if (el.className) {\n    let classes = el.className.split(/\\s/);\n    for (let i = 0; i < classes.length; i++) {\n      str += \".\" + classes[i];\n    }\n  }\n  return generateQuerySelector(el.parentNode) + \" > \" + str;\n};\n\nexport function querySelectorFallback(context) {\n  let index, pathSelector, localName;\n\n  if (context == \"null\") throw \"not an dom reference\";\n  // call getIndex function\n  index = getIndex(context);\n\n  while (context.tagName) {\n    // selector path\n    pathSelector = context.localName + (pathSelector ? \">\" + pathSelector : \"\");\n    context = context.parentNode;\n  }\n  // selector path for nth of type\n  pathSelector = pathSelector + `:nth-of-type(${index})`;\n  return pathSelector;\n}\n\n// get index for nth of type element\nfunction getIndex(node) {\n  let i = 1;\n  let tagName = node.tagName;\n\n  while (node.previousSibling) {\n    node = node.previousSibling;\n    if (\n      node.nodeType === 1 &&\n      tagName.toLowerCase() == node.tagName.toLowerCase()\n    ) {\n      i++;\n    }\n  }\n  return i;\n}\n\nexport function getToastStyles() {\n  return `\n  #toast {\n    visibility: hidden;\n    min-width: 250px;\n    margin-left: -200px;\n    background-color: #0400ff;\n    box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n    color: white;\n    text-align: center;\n    border-radius: 10px;\n    padding: 16px;\n    position: fixed;\n    z-index: 1;\n    left: 50%;\n    bottom: 30px;\n    font-size: 16px;\n  }\n  \n  #toast.show {\n    visibility: visible;\n    -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;\n    animation: fadein 0.5s, fadeout 0.5s 2.5s;\n  }\n  \n  @-webkit-keyframes fadein {\n    from {bottom: 0; opacity: 0;} \n    to {bottom: 30px; opacity: 1;}\n  }\n  \n  @keyframes fadein {\n    from {bottom: 0; opacity: 0;}\n    to {bottom: 30px; opacity: 1;}\n  }\n  \n  @-webkit-keyframes fadeout {\n    from {bottom: 30px; opacity: 1;} \n    to {bottom: 0; opacity: 0;}\n  }\n  \n  @keyframes fadeout {\n    from {bottom: 30px; opacity: 1;}\n    to {bottom: 0; opacity: 0;}\n  }\n  `;\n}\n\nconst styles = getToastStyles();\n\nconst styleSheet = document.createElement(\"style\");\nstyleSheet.innerText = styles;\ndocument.head.appendChild(styleSheet);\n\nconst toast = document.createElement(\"div\");\ntoast.setAttribute(\"id\", \"toast\");\ntoast.textContent = \"Copied !\";\ndocument.body.appendChild(toast);\n\nexport function showToast(text) {\n  toast.textContent = text;\n  const x = document.getElementById(\"toast\");\n  x.className = \"show\";\n  setTimeout(function () {\n    x.className = x.className.replace(\"show\", \"\");\n  }, 3000);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { EVENT_TYPES } from \"../constants\";\nimport {\n  copyTextToClipboard,\n  generateQuerySelector,\n  querySelectorFallback,\n  showToast,\n} from \"./utils\";\n\nlet options = {};\nlet enableInspector = false;\n\nfunction handleClick(ev) {\n  ev.stopPropagation();\n  ev.preventDefault();\n  delete options.selector;\n\n  const rzp = new Razorpay(options);\n  rzp.open();\n}\n\nchrome.runtime.onMessage.addListener((msg, sender, response) => {\n  if (msg.from === \"popup\") {\n    switch (msg.type) {\n      case EVENT_TYPES.SET_OPTIONS:\n        showToast(\"Saved !\");\n        handleOptionsListener(msg);\n        break;\n\n      case EVENT_TYPES.TOGGLE_INSPECTOR:\n        handleInspector(msg);\n\n      default:\n        break;\n    }\n  }\n});\n\nfunction handleOptionsListener(msg) {\n  if (options.selector) {\n    document\n      .querySelector(options.selector)\n      .removeEventListener(\"click\", handleClick);\n  }\n\n  options = msg.options;\n  document\n    .querySelector(msg.options.selector)\n    .addEventListener(\"click\", handleClick);\n}\n\nfunction handleInspector(msg) {\n  enableInspector = msg.enableInspector;\n  const allElements = document.querySelectorAll(\"*\");\n  if (enableInspector) {\n    // for (const ele of allElements) {\n    //   ele.setAttribute(\n    //     \"style\",\n    //     \"cursor: crosshair !important; pointer-events: none !important;\"\n    //   );\n    // }\n  } else {\n    // for (const ele of allElements) {\n    //   ele.removeAttribute(\"style\");\n    // }\n  }\n}\n\ndocument.addEventListener(\n  \"click\",\n  (ev) => {\n    if (enableInspector) {\n      ev.stopPropagation();\n      ev.preventDefault();\n\n      // let btnSelector = generateQuerySelector(ev.target);\n      // if (!document.querySelector(btnSelector)) {\n      // }\n      const btnSelector = querySelectorFallback(ev.target);\n      copyTextToClipboard(btnSelector, () => {\n        showToast(\"Copied !\");\n      });\n      enableInspector = false;\n    }\n  },\n  { capture: true }\n);\n"],"names":[],"sourceRoot":""}
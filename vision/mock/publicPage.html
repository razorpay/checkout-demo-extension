<!DOCTYPE html>
<html dir="ltr">
<head>
  <meta charset="utf-8">
  <title>Razorpay Checkout</title>
  <link rel="icon" href="data:;base64,=">
  <meta name="viewport" content="user-scalable=no,width=device-width,initial-scale=1,maximum-scale=1">
  <link href="https://checkout.razorpay.com/v1/css/checkout.css" rel="stylesheet">
</head>
<body><span>.</span></body>
<style>
body {
  background: rgba(0, 0, 0, 0.6);
}
body>span {
  white-space: pre;
  font-family:'lato';
  position: absolute;
  top: 50%;
  left: 50%;
  color: #fff;
  transform: translate(-50%, -50%);
}
#powered-by {
  opacity: 0 !important;
}
*, *:after, *:before {
  box-shadow: none !important;
  transition: 0s !important;
  animation: none !important;
}
@font-face {
  font-family:'lato';font-weight:normal;font-style:normal;
  src: url("https://cdn.razorpay.com/lato.woff2") format('woff2');
}
</style>
<script>
  // Make random & date fn same for every run
  // we generate checkout-id based on Date.now which is used in API calls
  Math.random = () => 0.5;
  Date.now = () => 1660817290856;

  let t = 0;

  // every time its called, increase by 100
  performance.now = () => t += 100;

  // timeouts > 0 are made zero-timeouts, but right order is ensured
  (() => {
    const st = setTimeout;
    const timeouts = [];

    // immediately call requestAnimationFrame with mocked increased time
    requestAnimationFrame = (cb) => {
      st(() => cb(t += 100));
    }

    // execute all timeouts immediately in correct order
    function trigger() {
      while (timeouts.length) {
        try {
          timeouts.shift()[0]();
        } catch(e) {}
      }
    }
    setTimeout = function(cb, dur = 0) {
      const pair = [ cb, dur ];
      const index = timeouts.findIndex(t => t[1] > dur);
      if (index !== -1) {
        timeouts.splice(1, 0, pair);
      } else {
        timeouts.push(pair);
      }
      st(trigger);
    }
  })();
</script>
<script src="https://checkout.razorpay.com/v1/checkout-frame.js"></script>
<script>
  window.CheckoutBridge = {
    oncomplete(data) {
      document.body.firstChild.innerHTML = JSON.stringify(JSON.parse(data), null, 4);
      __CheckoutBridge_oncomplete();
    },
  };

  getOptions().then(options => {
    handleMessage({ options });
  });
</script>
</html>

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="cache-control" content="no-cache" />
    <script src="config.js"></script>
    <script src="api.js"></script>
    <!-- build:js checkout.js -->
    <script src="js/generated/entry/checkout.js"></script>
    <!-- endbuild -->
  </head>
  <body>
    <div id="x" style="height: 90vh; background: #fff; color: #fff">
      <h1>Checkout test page</h1>
    </div>
    <div id="side">
      <button class="btn" id="rzp-button1">Fur Gauntlets</button>
    </div>
    <script>
      var searchParams = {
        get: function(param) {},
      };
      if (window.URLSearchParams) {
        searchParams = new URLSearchParams(location.search);
      }

      var options = {
        key: 'rzp_live_rFalxzSoQIEcFH',
        // google omni rzp_live_rFalxzSoQIEcFH
        // key: 'rzp_test_1DP5mmOlF5G5ag',

        name: searchParams.get('name') || 'Innerchef',
        description: searchParams.get('description') || 'JEE Main & Advanced',
        image: 'http://i.imgur.com/n5tjHFD.png',

        amount: 1 * 100,

        // order_id: api.createOrder(),

        // callback_url: 'http://google.com',
        // redirect: true,

        // display_amount: '12.23',
        // display_currency: 'SGD',

        handler: function(o) {
          alert(JSON.stringify(o, null, 2));
        },

        method: {
          netbanking: true,
          card: true,
        },

        theme: {
          color: searchParams.get('color'),
        },

        // parent: '#x',
        remember_customer: true,
        external: {
          // wallets: ['payumoney'],
          handler: function(data) {
            console.log(this, data);
          },
        },

        prefill: {
          name: 'Harshil "Mathur',
          email: 'harshil@razorpay.com',
          contact: '8888888888',
          'card[number]': '4111 1111 1111 1111',
          'card[expiry]': '11 / 23',
          'card[cvv]': '123',
          // vpa: '7622950688@upi',
        },
        modal: {
          ondismiss: function() {
            console.log(1);
          },
          onhidden: function() {
            console.log(2);
          },
        },
      };
      var rzp1 = new Razorpay(options);

      rzp1.on('payment.error', function(data) {
        console.log(data);
      });

      document.getElementById('rzp-button1').onclick = function(e) {
        rzp1.open();
        e.preventDefault();
      };
      rzp1.open();
    </script>
  </body>
</html>

@require 'common';

$cardHeights = {
  default: 46px,
  emi: 92px,
  debitPin: 120px,
  maestro: 96px,
};
$emiStripHeight = 26px;
$maestroHeight = 32px;
$cardpl = 70px;

.left-card {
  padding: 0 20px 0 $cardpl;
  height: $cardHeights['default'];
  left: 0;
  right: 0;
}

#toggle-saved-cards {
  padding: 6px 0;
  cursor: pointer;
  margin: 0 0 2px;
  display: none;
}


#savedcards-recurring-message {
  display: none;
}


#form-card {
  .saved-card {
    pointer-events: none;
    overflow: hidden;
    z-index: 2;
    pointer-events: all;

    &[maestro].checked {

      .elem-savedcards-emi {
        display: block;
      }
    }

    &[pin] {
      &.checked {
        overflow: hidden;

        .flow-selection-container {
          display: block;
        }
      }
    }

    &.checked {
      background: #eff0f1;
      border-color: $bc;

      .saved-cvv {
        pointer-events: auto;
        opacity: 1;
      }
    }
  }

  .saved-inner,
  .saved-outer {
    opacity: 1;
  }

  #elem-emi {
    display: none;
  }

  .maestro-cvv {
    display: block;
    font-size: 13px;
    line-height: 32px;
  }

  .cardtype {
    transform: none;
  }

  #add-card-container {
    z-index: 1;
    margin-bottom: 24px;
  }

  #show-add-card + .pad {
    pointer-events: none;
  }

  #savedcards-recurring-message {
    display: block;
  }

  #addcard-recurring-message {
    display: none;
  }
}

.saved-card:last-child:not(:first-child) .cardtype {
  transform: translateX(-3px) translateY(-1px) rotateZ(-10deg);
}

#add-card-container {
  transition: 0.2s;
  z-index: 2;
  position: relative;
}

.saved-card {
  cursor: pointer;
  transition: 0.2s;
  position: relative;

  .elem-wrap {
    height: auto;
  }

  .elem-savedcards-emi {
    padding: 0px;
    display: none;
    line-height: 32px;
    border-bottom: 1px solid #cccccc;

    .help.up {
      margin-bottom: 0;
    }
  }
}

.saved-inner {
  display: flex;
  opacity: 0;
  transition: 0.2s;
}

.saved-number {
  flex-grow: 1;
}

#saved-cards-container, #avsContainer {
  position: relative;
  line-height: $cardHeights['default'];

  &.scroll {
    overflow-y: auto;
  }

  .saved-cvv {
    font-size: 12px;
    padding: 5px;
    width: 40px;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .saved-cvv .elem .input {
    padding: 0 0 4px 0;
    font-family: rzpcvv;
    letter-spacing: -3px;
  }

  .cardtype {
    top: 0;
    transition: 0.2s;

    &[cardtype=amex] {
      border-color: #0189CF;
      background: linear-gradient(to bottom, #53AEF5, #0167A9);
    }

    &[cardtype=maestro] {
      background: linear-gradient(to bottom, #FBD51F, #EFA010);
      border-color: #DAB608;
    }
  }
}

#saved-cards-container .cardtype,
#avsContainer .cardtype,
#show-saved-cards .cardtype,
#app-card,
#show-add-card::before {
  position: absolute;
  z-index: 1;
  content: '';
  border: 1px solid #ccc;
  border-radius: 2px;
  width: 32px;
  height: 21px;
  margin-top: 12px;
  background: linear-gradient(to bottom, white, #eee);
  left: 24px;
  text-align: center;
  line-height: 20px;
  font-size: 20px;
  color: #777;
  font-weight: bold;
}

#show-saved-cards .cardtype {
  margin-top: 0;
}

#show-saved-cards .cardtype.multiple::after {
  content: '';
  position: absolute;
  top: -1px;
  bottom: -1px;
  left: -1px;
  right: -1px;
  z-index: -1;
  border: 1px solid #ccc;
  border-radius: 2px;
  background: linear-gradient(to bottom, white, #eee);
  transform: translateX(-3px) translateY(-1px) rotateZ(-10deg);
}

#show-saved-cards .cardtype.multiple::before {
  transform: translateX(-3px) translateY(-1px) rotateZ(-10deg);
}

#show-add-card {
  transition: 0.2s;
  cursor: pointer;
  position: relative;
  line-height: $cardHeights['default'];
  z-index: 1;

  &::before {
    display: inline-block;
    content: '+';
  }
}

#app-card {
  position: relative;
  margin-top: 0px;
  left: 0px;
  display: flex;
  align-items: center;
  justify-content: center;

  img {
    height: 16px;
    width: auto;
  }
}

// The google pay logo that google recommends in the guidelines
// is more wide, so should be taken care of explicitly
#app-card[type=google_pay] {
  img {
    width: 22px;
    height auto;
  }
}

.cardtype::before, .networkicon {
  content: '';
  background: no-repeat url('data:image/png;base64,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');
  height: 11px;
  width: 35px;
  background-size: 600%;
  margin: 5px 0 0 -2px;
  background-position: -20%;
  display: block;
}

[cardtype=bajaj]::before, .networkicon.bajaj {
  background: no-repeat url('https://cdn.razorpay.com/cardless_emi-sq/bajaj.svg');
  background-position: 50%;
  background-size: contain;
}

[cardtype=visa]::before, .networkicon.visa {
  background-position: 0;
}

[cardtype=amex]::before, .networkicon.amex {
  background-position: 100%;
}

[cardtype=diners]::before, .networkicon.diners {
  background-position: 60%;
}

[cardtype=maestro]::before, .networkicon.maestro {
  background-position: 40%;
}

[cardtype=mastercard]::before, .networkicon.mastercard {
  background-position: 20%;
}

[cardtype=rupay]::before, .networkicon.rupay {
  background-position: 80%;
}

// New styles for Svelte component begin here
.saved-cards
.saved-card
  padding: 0 12px 0 24px;

  .saved-inner
    padding-left: 48px;

  .saved-outer
    opacity: 0;
    border-top 1px solid #E6E7E8;

    .emi-plans-info-container
      padding: 0;
      margin-top: 0;

      .emi-plans-action
        top: 0;
        right: 0;

    .emi-plan-unselected, .emi-plan-selected
      margin: 12px 0;


// Bajaj Finserv EMI
#add-emi-container
  .elem-card
    .cardtype
      position: absolute;
      right: 0;
      top: 26px;

  .emi-plans-info-container
    padding: 12px 0;

    .emi-plans-action
      right: 0;

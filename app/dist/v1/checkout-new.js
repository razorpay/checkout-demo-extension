!function(){"use strict";function t(t,e){return function(){return t.apply(e,arguments)}}function e(t,e,n){var i;if(arguments.length<3&&(n=this),t)if(t.length)for(i=0;i<t.length;i++)e.call(n,i,t[i]);else for(i in t)e.call(n,i,t[i])}function n(t,n){e(t,function(t,e){e.call(n)},n)}function i(t,e,n,i){var o=document.createElement("form");o.setAttribute("action",t),n&&o.setAttribute("method",n),i&&o.setAttribute("target",i),e&&(o.innerHTML=r(e)),U.appendChild(o),o.submit(),U.removeChild(o)}function r(t,n){if("object"==typeof t){var i="";return e(t,function(t,e){n&&(t=n+"["+t+"]"),i+=r(e,t)}),i}return'<input type="hidden" name="'+n+'" value="'+t+'">'}function o(t,e,n,i){return"number"==typeof i?setTimeout(function(){o(t,e,n)},i):("string"==typeof t&&(t=e[t]),"function"==typeof t?(e||(e=this),3===arguments.length?t.call(e,n):t.call(e)):void 0)}function a(t){for(var e,n="";t;)e=t%62,n=D[e]+n,t=Math.floor(t/62);return n}function s(){var t,n=a(((new Date).getTime()-13885344e5).toString()+("000000"+Math.floor(1e6*Math.random())).slice(-6))+a(Math.floor(238328*Math.random()))+"0",i=0;return e(n,function(e){t=I[n[n.length-1-e]],(n.length-e)%2&&(t*=2),t>=62&&(t=t%62+1),i+=t}),t=i%62,t&&(t=D[62-t]),n.slice(0,13)+t}function c(t,n,i){if(t instanceof G){if(!t.isLiveMode())return;t=t.id}setTimeout(function(){var r={context:{direct:!0},anonymousId:t,event:n},o=r.properties={id:t};i&&"js_error"===n&&i instanceof Error&&(i={message:i.message,stack:i.stack}),i&&e(i,function(t,e){var n=typeof e;"string"!==n&&"number"!==n&&"boolean"!==n||(o[t]=e)}),o.medium=X.medium,o.user_agent=K,X.context&&(o.page_url=X.context),o.checkout=!!X.isFrame;var a=new XMLHttpRequest;a.open("post","https://api.segment.io/v1/track",!0),a.setRequestHeader("Content-type","application/json"),a.setRequestHeader("Authorization","Basic "+P("vz3HFEpkvpzHh8F701RsuGDEHeVQnpSj:")),a.send(JSON.stringify(r))})}function u(t,e,n,i){n=n.toLowerCase();var r=e[n];"number"==typeof i&&(i=String(i)),typeof r==typeof i&&(t[n]=i)}function l(t,n){var i={};return e(t,function(t,r){t in W?e(r,function(e,r){u(i,n,t+"."+e,r)}):u(i,n,t,r)}),i}function d(t){if(!(this instanceof d))return new d(t,e);var e=G.defaults;t=l(t,e),this.get=function(n){return arguments.length?n in t?t[n]:e[n]:t},this.set=function(e,n){t[e]=n},this.unset=function(e){delete t[e]}}function f(t){var n=t.get("notes");e(n,function(t,e){var i=typeof e;"string"!==i&&"number"!==i&&"boolean"!==i&&delete n[t]})}function h(t){throw new Error(t)}function p(t){return/[^0-9]/.test(t)?!1:(t=parseInt(t,10),t>=100)}function m(t){e(["key","amount"],function(e,n){t.get(n)||h("No "+n+" passed.")})}function g(t){var n;t=t.get(),e(t,function(t,e){t in Z&&(n=Z[t](e)),"string"==typeof n&&h("Invalid "+t+" ("+n+")")})}function v(t){t&&"object"==typeof t||h("Invalid options");var e=d(t);return g(e),f(e),t.parent&&e.set("parent",t.parent),e}function y(){return tt.meta||(tt.meta=T("head meta[name=viewport]")),tt.meta}function b(t){t&&t.remove();var e=y();e&&T("head").appendChild(e)}function w(){Q.overflow=tt.overflow}function k(t){if(t.image&&"string"==typeof t.image){if(X.isBase64Image(t.image))return;if(t.image.indexOf("http")){var e=location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),n="";"/"!==t.image[0]&&(n+=location.pathname.replace(/[^\/]*$/g,""),"/"!==n[0]&&(n="/"+n)),t.image=e+n+t.image}}}function C(t){return t?X.makeUrl()+"checkout?new=1&key_id="+t:X.makeUrl()+"checkout/public?new=1"}function x(t){var n=t.get(),i={context:location.href,options:n,config:F,id:t.id};return e(t.modal.options,function(t,e){n["modal."+t]=e}),n.parent&&(i.embedded=!0,n.parent=!0),k(n),i}function A(t){try{ot.style.background=t}catch(e){}}function N(){at.style.opacity=1}function z(){at.style.opacity=0}function E(t){return t?(this.getEl(t),this.openRzp(t)):void this.getEl()}function M(){var t={};e(et.attributes,function(e,n){var i=n.name;if(/^data-/.test(i)){i=i.replace(/^data-/,"");var r=n.value;"true"===r?r=!0:"false"===r&&(r=!1),t[i]=r}});var n=et.getAttribute("data-amount");n&&n.length>0&&(t.handler=nt,it(G(t)))}function _(){var t=document.createElement("div");t.className="razorpay-container";var n=t.style,i={zIndex:"99999",position:Y?"absolute":"fixed",top:0,display:"none",left:0,height:"100%",width:"100%","-webkit-transition":"0.2s ease-out top","-webkit-overflow-scrolling":"touch","-webkit-backface-visibility":"hidden","overflow-y":"visible"};return e(i,function(t,e){n[t]=e}),U.appendChild(t),t}function H(){var t=document.createElement("div");t.className="razorpay-backdrop";var n=t.style;return e({"min-height":"100%",transition:"0.3s ease-out","-webkit-transition":"0.3s ease-out","-moz-transition":"0.3s ease-out",position:"fixed",top:0,left:0,width:"100%",height:"100%",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#96000000, endColorstr=#96000000)"},function(t,e){n[t]=e}),rt.appendChild(t),t}function O(){var t=document.createElement("span");t.target="_blank",t.href="",t.innerHTML="Test Mode";var n=t.style,i="opacity 0.3s ease-in",r="rotate(45deg)";return e({"text-decoration":"none",background:"#D64444",border:"1px dashed white",padding:"3px",opacity:"0","-webkit-transform":r,"-moz-transform":r,"-ms-transform":r,"-o-transform":r,transform:r,"-webkit-transition":i,"-moz-transition":i,transition:i,"font-family":"lato,ubuntu,helvetica,sans-serif",color:"white",position:"absolute",width:"200px","text-align":"center",right:"-50px",top:"50px"},function(t,e){n[t]=e}),ot.appendChild(t),t}function S(){return!st&&X.supported()&&(st=new E,st.bind(),rt.appendChild(st.el)),st}var L=function(t){return"string"==typeof t?L(document.querySelector(t)):this instanceof L?void(this[0]=t):new L(t)},T=t(document.querySelector,document),R=(t(document.querySelectorAll,document),t(document.getElementById,document),t(JSON.stringify,JSON));L.prototype={on:function(n,i,r,o){var a=this[0];if(a){var s,c=window.addEventListener;return s=c?function(t){3===t.target.nodeType&&(t.target=t.target.parentNode),i.call(o||this,t)}:function(t){t||(t=window.event),t.target||(t.target=t.srcElement||document),t.preventDefault||(t.preventDefault=function(){this.returnValue=!1}),t.currentTarget||(t.currentTarget=a),i.call(o||a,t)},e(n.split(" "),function(t,e){c?a.addEventListener(e,s,!!r):a.attachEvent("on"+e,s)}),t(function(){this.off(n,s,r)},this)}},off:function(t,e,n){window.removeEventListener?this[0].removeEventListener(t,e,!!n):window.detachEvent&&this[0].detachEvent("on"+t,e)},prop:function(t,e){var n=this[0];return 1===arguments.length?n[t]:n?(n&&(n[t]=e),this):""},attr:function(t,n){if("object"==typeof t)return e(t,function(t,e){this.attr(t,e)},this),this;var i=this[0];return 1===arguments.length?i.getAttribute(t):(i.setAttribute(t,n),this)},reflow:function(){return this.prop("offsetWidth"),this},remove:function(){try{var t=this[0];t.parentNode.removeChild(t)}catch(e){}return this},append:function(t){this[0].appendChild(t)},hasClass:function(t){return(" "+this[0].className+" ").indexOf(" "+t+" ")>=0},addClass:function(t){var e=this[0];return t&&e&&(e.className?this.hasClass(t)||(e.className+=" "+t):e.className=t),this},removeClass:function(t){var e=this[0];if(e){var n=(" "+e.className+" ").replace(" "+t+" "," ").replace(/^ | $/g,"");e.className!==n&&(e.className=n)}return this},toggleClass:function(t,e){return 1===arguments.length&&(e=!this.hasClass(t)),this[(e?"add":"remove")+"Class"](t)},find:function(t){var e=this[0];return e?e.querySelectorAll(t):void 0},css:function(t,e){var n=this.prop("style");if(n){if(1===arguments.length)return n[t];try{n[t]=e}catch(i){}}return this},hide:function(){return this.css("display","none")},parent:function(){return L(this.prop("parentNode"))},val:function(t){return arguments.length?(this[0].value=t,this):this[0].value},html:function(t){return arguments.length?(this[0].innerHTML=t,this):this[0].innerHTML},focus:function(){if(this[0])try{this[0].focus()}catch(t){}return this},blur:function(){if(this[0])try{this[0].blur()}catch(t){}return this}},L.post=function(t){t.method="post",t.headers||(t.headers=B),t.headers["Content-type"]="application/x-www-form-urlencoded";var n=[];return e(t.data,function(t,e){n.push(t+"="+encodeURIComponent(e))}),t.data=n.join("&"),L.ajax(t)},L.ajax=function(t){var n=new XMLHttpRequest;return t.method||(t.method="get"),n.open(t.method,t.url,!0),e(t.headers,function(t,e){n.setRequestHeader(t,e)}),t.callback&&(n.onreadystatechange=function(){4===n.readyState&&t.callback(JSON.parse(n.responseText))},n.onerror=function(){t.callback({error:{description:"Network error"}})}),n.send(t.data||null),n};var D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",j=D+"+=";D=D.slice(52)+D.slice(0,52);var I={};e(D,function(t,e){I[e]=t});var P=window.btoa;P||(P=function(t){var e,n,i,r,o,a;for(i=t.length,n=0,e="";i>n;){if(r=255&t.charCodeAt(n++),n===i){e+=j.charAt(r>>2),e+=j.charAt((3&r)<<4),e+="==";break}if(o=t.charCodeAt(n++),n===i){e+=j.charAt(r>>2),e+=j.charAt((3&r)<<4|(240&o)>>4),e+=j.charAt((15&o)<<2),e+="=";break}a=t.charCodeAt(n++),e+=j.charAt(r>>2),e+=j.charAt((3&r)<<4|(240&o)>>4),e+=j.charAt((15&o)<<2|(192&a)>>6),e+=j.charAt(63&a)}return e});var F,$=(s(),function(){}),q=$,B={},U=document.body||document.documentElement,K=navigator.userAgent,Y=/iPhone|Android 2\./.test(K),J=window.Razorpay;F="object"==typeof J&&J&&"object"==typeof J.config?J.config:{protocol:"https",hostname:"api.razorpay.com",version:"v1/"};var G=window.Razorpay=function(t){return this instanceof G?void o(this.configure,this,t):new G(t)};G.defaults={key:"",amount:"",currency:"INR",order_id:"",handler:function(t){this.callback_url&&i(this.callback_url,t,"post")},notes:{},callback_url:"",redirect:!1,description:"",buttontext:"Pay Now",parent:null,display_currency:"",display_amount:"",method:{netbanking:!0,card:!0,wallet:!0,emi:!0},prefill:{method:"",name:"",contact:"",email:"","card[number]":"","card[expiry]":""},modal:{ondismiss:q,onhidden:q,escape:!0,animation:!0,backdropclose:!1},external:{wallets:[],handler:q},theme:{color:"#00BCD4",backdrop_color:"rgba(0,0,0,0.6)",image_padding:!0,close_button:!0},customer_id:"",signature:"",name:"",image:""};var W={};e(G.defaults,function(t,n){"notes"!==t&&n&&"object"==typeof n&&(W[t]=!0,e(n,function(e,n){G.defaults[t+"."+e]=n}),delete G.defaults[t])});var X={currencies:{USD:"$",AUD:"A$",CAD:"C$",HKD:"HK$",NZD:"NZ$",SGD:"SG$",CZK:"Kč",NOK:"kr",DKK:"kr",SEK:"kr",EUR:"€",GBP:"£",HUF:"Ft",JPY:"¥",PLN:"zł",SFR:"Fr"},supported:function(t){var e,n=/iPad|iPhone|iPod/.test(navigator.platform);return n?/CriOS/.test(K)?window.indexedDB||(e="Please update your Chrome browser or"):/FxiOS|UCBrowser/.test(K)&&(e="This browser is unsupported. Please"):/Opera Mini\//.test(K)&&(e="Opera Mini is unsupported. Please"),e?(t&&alert(e+" choose another browser."),!1):!0},medium:"web",context:location.href.replace(/^https?:\/\//,""),isBase64Image:function(t){return/data:image\/[^;]+;base64/.test(t)},defaultError:function(){return{error:{description:"Payment cancelled"}}},makeUrl:function(t){var e=F.protocol+"://"+F.hostname+"/";return t||(e+=F.version),e},redirect:function(t){return window!==window.parent?o(G.sendMessage,null,{event:"redirect",data:t}):void i(t.url,t.content,t.method)}},Z={key:function(t){return t?void 0:""},notes:function(t){var n="";if("object"==typeof t){var i=0;if(e(t,function(){i++}),!(i>15))return;n="At most 15 notes are allowed"}return n},amount:function(t){if(!p(t)){var e="should be passed in paise. Minimum value is 100";return alert("Invalid amount. It "+e),e}},currency:function(t){return"INR"!==t?"INR is the only supported value.":void 0},display_currency:function(t){return t in X.currencies||t===G.defaults.display_currency?void 0:"This dislpay currency is not supported"},display_amount:function(t){return t=String(t).replace(/([^0-9\.])/g,""),t||t===G.defaults.display_amount?void 0:""}};G.prototype={isLiveMode:function(){return/^rzp_l/.test(this.get("key"))},configure:function(t){var e;try{this.get=v(t).get,e=this.get("key"),m(this)}catch(n){var i=n.message;this.isLiveMode()||alert(i),h(i)}this instanceof G&&(this.id=s(),this.modal={options:B},this.options=B,this.get("parent")&&this.open())}},G.configure=function(t){e(l(t,G.defaults),function(t,e){var n=G.defaults[t];typeof n==typeof e&&(G.defaults[t]=e)})};var V=0,Q=U.style,tt={overflow:"",meta:null,orientationchange:function(){this.el.style.height=Math.max(window.innerHeight||0,480)+"px"},scroll:function(){if("number"==typeof window.pageYOffset){var t,e=rt.offsetTop-pageYOffset,n=rt.offsetHeight+e;V<pageYOffset?n<.2*innerHeight&&0>e&&(t=pageYOffset+innerHeight-rt.offsetHeight):V>pageYOffset&&e>.1*innerHeight&&n>innerHeight&&(t=pageYOffset),"number"==typeof t&&(rt.style.top=Math.max(0,t)+"px"),V=pageYOffset}}};E.prototype={getEl:function(t){if(!this.el){var e=t&&t.get("key");this.el=L(document.createElement("iframe")).attr({"class":"razorpay-checkout-frame",style:"height: 100%; position: relative; background: none; display: block; border: 0 none transparent; margin: 0px; padding: 0px;",allowtransparency:!0,frameborder:0,width:"100%",height:"100%",src:C(e)})[0]}return this.el},openRzp:function(t){this.el;this.bind();var e,n=t.get("parent"),i=L(n||rt);t!==this.rzp?(e=x(t),this.rzp||this.el.parentNode===i[0]||i.append(this.el),this.rzp=t):e={event:"open"},this.afterLoad(function(){this.postMessage(e)}),n?(this.el.removeAttribute("style"),this.embedded=!0,this.afterClose=q):(i.css("display","block").reflow(),A(t.get("theme.backdrop_color")),/^rzp_t/.test(t.get("key"))&&N(),this.setMetaAndOverflow())},close:function(){A(""),z(),b(this.$meta),w()},bind:function(){if(!this.listeners){this.listeners=[];var t={message:this.onmessage};Y&&(t.orientationchange=tt.orientationchange,t.scroll=tt.scroll),e(t,function(t,e){this.listeners.push(L(window).on(t,e,null,this))},this)}},unbind:function(){n(this.listeners),this.listeners=null},setMetaAndOverflow:function(){var t=T("head");t&&(L(y()).remove(),this.$meta=L(document.createElement("meta")).attr({name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}),t.appendChild(this.$meta[0]),tt.overflow=Q.overflow,Q.overflow="hidden",Y&&(scrollTo(0,0),tt.orientationchange.call(this),tt.scroll.call(this)))},postMessage:function(t){t.id=this.rzp.id,t=R(t),this.el.contentWindow.postMessage(t,"*")},afterLoad:function(t){this.hasLoaded===!0?t.call(this):this.loadedCallback=t},onmessage:function(t){var e;try{e=JSON.parse(t.data)}catch(n){return}var i=e.event,r=this.rzp;!t.origin||"frame"!==e.source||"load"!==i&&r&&r.id!==e.id||t.source!==this.el.contentWindow||this.el.getAttribute("src").indexOf(t.origin)||(e=e.data,o("on"+i,this,e),("dismiss"===i||"fault"===i&&r.isLiveMode())&&c(r,i))},onload:function(){o("loadedCallback",this),this.hasLoaded=!0},onredirect:function(t){X.redirect(t)},onsubmit:function(t){if("wallet"===t.method){var n=this.rzp;e(n.get("external.wallets"),function(e,i){if(i===t.wallet)try{n.get("external.handler").call(n,t)}catch(r){c(n,"js_error",r)}})}},ondismiss:function(){this.close(),o(this.rzp.get("modal.ondismiss"))},onhidden:function(){this.afterClose(),o(this.rzp.get("modal.onhidden"))},oncomplete:function(t){this.close();var e=this.rzp;c(e,"checkout_success",t),o(function(){try{this.get("handler")(t)}catch(n){throw c(e,"js_error",n),n}},e,null,200)},onfailure:function(t){this.ondismiss(),alert("Payment Failed.\n"+t.error.description),this.onhidden()},onfault:function(t){this.rzp.close(),alert("Oops! Something went wrong.\n"+t),this.afterClose()},afterClose:function(){rt.style.display="none",this.unbind()}},X.isCheckout=!0;var et=document.currentScript||function(){var t=document.getElementsByTagName("script");return t[t.length-1]}(),nt=function(t){var e=et.parentNode,n=document.createElement("div");n.innerHTML=r(t),e.appendChild(n),e.onsubmit=q,e.submit()},it=function(t){var e=document.createElement("input"),n=et.parentElement;e.type="submit",e.value=t.get("buttontext"),e.className="razorpay-payment-button",n.appendChild(e),n.onsubmit=function(e){return e.preventDefault(),t.open(),!1}},rt=_(),ot=H(),at=O(),st=S();G.open=function(t){return G(t).open()},G.prototype.open=function(){if(this.get("redirect")||X.supported(!0)){var t=this.checkoutFrame;return t||(t=this.get("parent")?new E(this):S(),this.checkoutFrame=t),t.embedded||t.openRzp(this),t.el.contentWindow||(t.close(),t.afterClose(),alert("This browser is not supported.\nPlease try payment in another browser.")),this}},G.prototype.close=function(){var t=this.checkoutFrame;t&&t.postMessage({event:"close"})},M()}();
//# sourceMappingURL=checkout.js.map

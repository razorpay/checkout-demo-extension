<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Razorpay Checkout</title>
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta
      name="viewport"
      content="user-scalable=no,width=device-width,initial-scale=1,maximum-scale=1"
    />
    <style>
      @font-face {
        font-family: 'lato';
        src: url('fonts/lato.eot?#iefix') format('embedded-opentype'),
          url('fonts/lato.woff') format('woff');
        font-weight: normal;
        font-style: normal;
      }
    </style>
  </head>

  <!-- This script introduces api params for development and is not present in the final bundle -->
  <script src="/config.js"></script>
  <body></body>
</html>
<script>
  var isMagicShopifyFlow =
    window.location.search.indexOf('magic_shopify_key') !== -1;

  loadCss(isMagicShopifyFlow);
  loadJs(isMagicShopifyFlow);

  function loadJs(isMagicShopifyFlow) {
    let frameScriptSource = isMagicShopifyFlow
      ? '/checkout-frame-lite.js'
      : '/checkout-frame.js';

    var checkoutFrameScript = document.createElement('script');
    checkoutFrameScript.src = frameScriptSource;
    document.body.appendChild(checkoutFrameScript);
  }

  function loadCss(isMagicShopifyFlow) {
    if (isMagicShopifyFlow) {
      // css is loaded by the dynamic import automatically in checkout-frame-lite
      return;
    }

    var link = document.createElement('link');
    link.setAttribute('rel', 'stylesheet');
    link.setAttribute('href', 'css/checkout.css');
    document.head.appendChild(link);
  }

  var options = {
    // 'key': 'rzp_live_ILgsfZCZoFIKMb',
    key: 'rzp_test_1DP5mmOlF5G5ag',
    // key: 'rzp_live_gC8obGlwaRlyui',
    amount: 749090,
    name: 'Innerchef',
    description: 'JEE Main & Advanced',
    image: 'http://i.imgur.com/n5tjHFD.png',
    handler: function (transaction) {
      alert('You have successfully purchased ' + options.description);
    },
    method: {
      netbanking: true,
      wallet: true,
      card: true,
    },
    // ecod: true,
    remember_customer: false,
    // parent: '#x',
    external: {
      // wallets: ['payumoney'],
      handler: function (data) {
        console.log(this, data);
      },
    },
    // callback_url: 'http://google.com',
    // redirect: true,
    // display_amount: '12.23',
    // display_currency: 'SGD',
    prefill: {
      method: 'card',
      'card[number]': '405028',
      name: 'Harshil Mathur',
      email: 'harshil@razorpay.com',
      contact: '8879524924',
    },
    // customer_id: 'cust_5rZjWeKfUdrIfG',
    notes: {
      address: 'Hello World',
    },
    // order_id: 'order_7I0DqYTedcFfns',
    theme: {
      // customer_details: false,
      color: '#1abc9c',
    },
    modal: {
      ondismiss: function () {
        console.log(1);
      },
      onhidden: function () {
        console.log(2);
      },
    },
  };
  // handleMessage({options: options , upi_intents_data: ['sda'], sdk_popup: true, magic: true});
</script>
